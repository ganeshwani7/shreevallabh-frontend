<mat-toolbar class="header-toolbar">
  <div class="container toolbar-content">
    <a routerLink="/" class="logo">
      <img src="assets/images/logo.png" alt="Shree Vallabh Agency" class="logo-img">
      <span class="logo-text">Shree Vallabh Agency</span>
    </a>

    <nav class="desktop-nav">
      @for (link of navLinks; track link.path) {
        @if (link.hasDropdown) {
          <button mat-button [matMenuTriggerFor]="submenu" class="dropdown-trigger">
            {{ link.label }}
            <mat-icon class="dropdown-icon">arrow_drop_down</mat-icon>
          </button>
          <mat-menu #submenu="matMenu">
            @for (child of link.children; track child.path) {
              <a mat-menu-item [routerLink]="child.path">{{ child.label }}</a>
            }
          </mat-menu>
        } @else {
          <a mat-button
             [routerLink]="link.path"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: link.exact}">
            {{ link.label }}
          </a>
        }
      }
    </nav>

    <button mat-icon-button class="mobile-menu-btn" [matMenuTriggerFor]="mobileMenu">
      <mat-icon>menu</mat-icon>
    </button>

    <mat-menu #mobileMenu="matMenu">
      @for (link of navLinks; track link.path) {
        @if (link.hasDropdown) {
          <span mat-menu-item disabled class="mobile-menu-header">{{ link.label }}</span>
          @for (child of link.children; track child.path) {
            <a mat-menu-item [routerLink]="child.path" class="mobile-submenu-item">{{ child.label }}</a>
          }
        } @else {
          <a mat-menu-item [routerLink]="link.path">{{ link.label }}</a>
        }
      }
    </mat-menu>
  </div>
</mat-toolbar>
